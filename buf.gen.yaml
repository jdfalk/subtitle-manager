# file: buf.gen.yaml
# version: 2.1.0
# guid: 7e2b1c4d-5f6a-4b7c-8d9e-0a1b2c3d4e5f

# Buf code generation configuration for subtitle-manager
# This file enables buf to generate Go code for all proto files with gcommon integration
# Supports Edition 2023 protobuf with opaque API support

version: v2
plugins:
  - remote: buf.build/protocolbuffers/go:v1.36.6
    out: pkg
    opt:
      - paths=source_relative
      # Standard Google protobuf mappings
      - Mgoogle/protobuf/timestamp.proto=google.golang.org/protobuf/types/known/timestamppb
      - Mgoogle/protobuf/duration.proto=google.golang.org/protobuf/types/known/durationpb
      - Mgoogle/protobuf/empty.proto=google.golang.org/protobuf/types/known/emptypb
      - Mgoogle/protobuf/any.proto=google.golang.org/protobuf/types/known/anypb
      # gcommon mappings for consistent type usage
      - Mgcommon/v1/common/user.proto=github.com/jdfalk/gcommon/sdks/go/v1/common
      - Mgcommon/v1/common/session.proto=github.com/jdfalk/gcommon/sdks/go/v1/common
      - Mgcommon/v1/common/error.proto=github.com/jdfalk/gcommon/sdks/go/v1/common
      - Mgcommon/v1/common/metadata.proto=github.com/jdfalk/gcommon/sdks/go/v1/common
      - Mgcommon/v1/config/config.proto=github.com/jdfalk/gcommon/sdks/go/v1/config
      - Mgcommon/v1/health/health_check.proto=github.com/jdfalk/gcommon/sdks/go/v1/health
      - Mgcommon/v1/media/media_file.proto=github.com/jdfalk/gcommon/sdks/go/v1/media
      - Mgcommon/v1/media/language.proto=github.com/jdfalk/gcommon/sdks/go/v1/media
  - remote: buf.build/grpc/go:v1.5.1
    out: pkg
    opt:
      - paths=source_relative
      - require_unimplemented_servers=false
